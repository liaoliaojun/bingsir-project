(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){e.exports=a(330)},168:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},214:function(e,t,a){},328:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o),c=a(332),s=a(25),i=a(19),u=a(20),m=a(23),p=a(21),h=a(24),d=(a(79),a(44)),f=(a(168),d.a.Header),b=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f,{className:"ui-header"},"header")}}]),t}(r.a.Component),g=(a(207),d.a.Footer),E=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(g,{className:"ui-footer"},"Footer")}}]),t}(r.a.Component),y=(a(208),d.a.Content),v=Object(s.a)(),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isShow:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"LayoutDom",value:function(e){return r.a.createElement(d.a,null,r.a.createElement(b,null),r.a.createElement(y,null,this.props.children),r.a.createElement(E,null))}},{key:"Login",value:function(e){return r.a.createElement("div",null,this.props.children)}},{key:"componentWillMount",value:function(){"/login"!==v.location.pathname&&"/register"!==v.location.pathname||this.setState({isShow:!0})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.isShow?this.Login():this.LayoutDom())}}]),t}(r.a.Component),O=(a(123),a(70)),w=(a(124),a(72)),k=(a(95),a(39)),x=(a(125),a(14)),C=(a(126),a(40)),F=(a(127),a(5)),D=(a(214),a(45)),S=a.n(D),I=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null};S.a.defaults.baseURL="",S.a.defaults.withCredentials=!0,S.a.defaults.timeout=1e5,S.a.interceptors.request.use(function(e){return e.headers["Content-Type"]="application/json;charset=UTF-8",I("token")&&(e.headers.Authorization="Bearer "+I("token")),e}),S.a.interceptors.response.use(function(e){if(1==e.data.code)return e.data;throw console.log(e.data),Error(e.data.msg||"\u670d\u52a1\u5f02\u5e38")});var N,q={post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return S()({method:"post",url:e,data:t}).then(function(e){console.log("ajax\u6570\u636e",e),"1"==e.code?a(e.data):("0"==e.code||e.code>=500)&&n(e)}).catch(function(e){n(e)})}},L=(N={login:"/login",register:"/register",userinfo:"/userinfo"},Object.keys(N).reduce(function(e,t){return e[t]="".concat(N[t]),e},{})),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||q.post(L.login,t,function(e){console.log(e),a.props.history.push("/?token="+e.token)},function(e){console.log(e)})})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"mt10"},r.a.createElement(O.a,null,r.a.createElement(w.a,{span:8,offset:8},r.a.createElement(x.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(x.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(C.a,{prefix:r.a.createElement(F.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(x.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(C.a,{prefix:r.a.createElement(F.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(x.a.Item,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"))))))}}]),t}(r.a.Component),T=x.a.create({name:"normal_login"})(P),B=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"home\u9875\u9762")}},{key:"getData",value:function(){q.post(L.userinfo,{},function(e){console.log(e)},function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getData()}}]),t}(r.a.Component),M=(a(328),{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}}),U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||q.post(L.register,a,function(t){"success"&&e.props.history.push("/login")},function(e){console.log(e)})})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"mt10"},r.a.createElement(O.a,null,r.a.createElement(w.a,{span:8,offset:8},r.a.createElement(x.a,Object.assign({},M,{onSubmit:this.handleSubmit,className:"login-form"}),r.a.createElement(x.a.Item,{label:"\u624b\u673a\u53f7",hasFeedback:!0},e("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7!"}]})(r.a.createElement(C.a,{prefix:r.a.createElement(F.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u624b\u673a\u53f7"}))),r.a.createElement(x.a.Item,{label:"\u7528\u6237\u540d",hasFeedback:!0},e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]})(r.a.createElement(C.a,{prefix:r.a.createElement(F.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),r.a.createElement(x.a.Item,{label:"\u5bc6\u7801",hasFeedback:!0},e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(r.a.createElement(C.a,{prefix:r.a.createElement(F.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(x.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801",hasFeedback:!0},e("confirmPwd",{rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u786e\u8ba4\u5bc6\u7801!"}]})(r.a.createElement(C.a,{prefix:r.a.createElement(F.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(x.a.Item,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",className:"register-form-button"}," \u6ce8\u518c "))))))}}]),t}(r.a.Component),W=x.a.create({name:"register"})(U),A=Object(s.a)(),J=function(){return r.a.createElement(c.c,{history:A},r.a.createElement(j,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:B}),r.a.createElement(c.b,{exact:!0,path:"/login",component:T}),r.a.createElement(c.b,{exact:!0,path:"/register",component:W}),r.a.createElement(c.b,{render:function(){return r.a.createElement(c.a,{to:"/"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[162,1,2]]]);
//# sourceMappingURL=main.abdc7f24.chunk.js.map